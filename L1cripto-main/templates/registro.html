<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criptografia</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/registro.css') }}">
    <script>
        function validarFormulario(event) {
            const nombre = document.forms["formulario_registro"]["nombre"].value.trim();
            const usuario = document.forms["formulario_registro"]["usuario"].value.trim();
            const password = document.forms["formulario_registro"]["password"].value.trim();
            const repetirPassword = document.forms["formulario_registro"]["repetir_password"].value.trim();

            if (!nombre || !usuario || !password || !repetirPassword) {
                document.getElementById("error-message").textContent = "Faltan campos por rellenar.";
                document.getElementById("error-message").style.display = "block";
                event.preventDefault();  // Evita el envío del formulario
                return false;
            }
            document.getElementById("error-message").style.display = "none";
            return true;
        }
    </script>
</head>
<body>
    <div id="contenedor_general">
            <div id="contenedor_registro">
                <div id="registro_usuario">
                    <div class="titulo">
                        Registro Usuario
                    </div>
                    {% if error %}
                    <p style="color: red;">{{ error }}</p>
                    {% endif %}
                    <p id="error-message"></p>
                    <form id="formulario_registro" name="formulario_registro" method="POST" action="/register">
                        <input type="text" name="nombre" placeholder="Nombre Completo" required>
                        <input type="text" name="usuario" placeholder="Usuario" required>
                        <input type="password" placeholder="Contraseña" name="password" required>
                        <input type="password" placeholder="Repetir Contraseña" name="repetir_password" required>
                        <button type="submit" title="Ingresar" name="Registrar">Registrar</button>
                    </form>
                    <div class="pie-form">
                        <a class="logIn" href="{{ url_for('pagina_logIn') }}">¿Ya tienes sesión? Inicia Sesión</a>
                    </div>
                    <div class="cancelar-form">
                        <a href="{{ url_for('index') }}">Cancelar</a>
                    </div>
                </div>
            </div>
    </div>
</body>
</html>
